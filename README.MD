# ğŸ“… React + Spring Boot ìº˜ë¦°ë” (Personal Calendar Service)

React(Frontend)ì™€ Spring Boot(Backend)ë¥¼ ì—°ë™í•˜ì—¬ êµ¬í˜„í•œ **ê°œì¸ ì¼ì • ê´€ë¦¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**ì…ë‹ˆë‹¤.  
ì‚¬ìš©ìë³„ ì¼ì • ê´€ë¦¬, ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜, ì›”ë³„ ìº˜ë¦°ë” ë·° ê¸°ëŠ¥ì„ RESTful API ê¸°ë°˜ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Backend
* **Framework**: Spring Boot 3.x
* **Language**: Java 17
* **Database**: H2 Database (TCP ëª¨ë“œ)
* **ORM / SQL Mapper**: Spring Data JPA (EntityManager ì§ì ‘ ì‚¬ìš©), MyBatis (ë ˆê±°ì‹œ ì½”ë“œ ì¼ë¶€ í¬í•¨)
* **Build Tool**: Gradle
* **Library**: Lombok

### Frontend
* **Library**: React, Vite
* **Styling**: Styled-components
* **Router**: React Router DOM
* **Calendar**: FullCalendar Library
* **HTTP Client**: Fetch API

---

## ğŸ“ ì£¼ìš” ë„ë©”ì¸ ë° DB ì„¤ê³„ (Domain)

ì´ í”„ë¡œì íŠ¸ëŠ” í¬ê²Œ 3ê°€ì§€ í•µì‹¬ ì—”í‹°í‹°ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### 1. User (ì‚¬ìš©ì)
* ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” íšŒì› ì •ë³´ì…ë‹ˆë‹¤.
* **ì£¼ìš” í•„ë“œ**: `userNo`(PK), `userId`, `userPwd`, `userName`, `userPhone`, `userEmail`
* **ê´€ê³„**: `User` (1) : (N) `Plan`

### 2. Plan (ì¼ì •)
* ìº˜ë¦°ë”ì— ë“±ë¡ë˜ëŠ” ê°œë³„ ì¼ì • ì •ë³´ì…ë‹ˆë‹¤.
* **ì£¼ìš” í•„ë“œ**: `planNo`(PK), `planTitle`, `planContent`, `date`
* **ê´€ê³„**:
    * `Plan` (N) : (1) `User` (ì¼ì • ì†Œìœ ì)
    * `Plan` (N) : (1) `Category` (ì¼ì • ë¶„ë¥˜)

### 3. Category (ì¹´í…Œê³ ë¦¬)
* ì¼ì •ì„ ë¶„ë¥˜í•˜ëŠ” ì¹´í…Œê³ ë¦¬ ì •ë³´ì…ë‹ˆë‹¤. (ì˜ˆ: ì—…ë¬´, ê°œì¸, ê¸°ë…ì¼ ë“±)
* **ì£¼ìš” í•„ë“œ**: `categoryNo`(PK), `categoryName`
* **ê´€ê³„**: `Category` (1) : (N) `Plan`

---

## ğŸ“¡ API ëª…ì„¸ì„œ (API Specification)

RESTful ì„¤ê³„ ì›ì¹™ì— ë”°ë¼ ë¦¬ì†ŒìŠ¤(ëª…ì‚¬) ì¤‘ì‹¬ìœ¼ë¡œ URIë¥¼ êµ¬ì„±í•˜ê³ , HTTP Methodë¡œ í–‰ìœ„ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤.

### 1. User API (`/api/users`, `/api/sessions`)

| ê¸°ëŠ¥ | HTTP Method | URI | ì„¤ëª… |
| :--- | :---: | :--- | :--- |
| **íšŒì›ê°€ì…** | `POST` | `/api/users` | ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ìƒì„±í•©ë‹ˆë‹¤. (ì•„ì´ë”” ì¤‘ë³µ ì‹œ 409 Conflict ë°˜í™˜) |
| **ì•„ì´ë”” ì¤‘ë³µ ì²´í¬** | `GET` | `/api/users/check` | ì•„ì´ë”” ì¤‘ë³µ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. (`?userId=...`) |
| **ë¡œê·¸ì¸** | `POST` | `/api/sessions` | ì‚¬ìš©ì ì¸ì¦ì„ ìˆ˜í–‰í•˜ê³  ì„¸ì…˜ì„ ìƒì„±í•©ë‹ˆë‹¤. |
| **ì •ë³´ ìˆ˜ì •** | `PATCH` | `/api/users/{userNo}` | íšŒì› ì •ë³´ë¥¼ ë¶€ë¶„ ìˆ˜ì •í•©ë‹ˆë‹¤. |
| **íšŒì› íƒˆí‡´** | `DELETE` | `/api/users/{userNo}` | íšŒì›ì„ ì‚­ì œí•©ë‹ˆë‹¤. |
| **ì•„ì´ë”” ì°¾ê¸°** | `POST` | `/api/users/id` | ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ë¡œ ì•„ì´ë””ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. |
| **ë¹„ë²ˆ ì°¾ê¸°** | `POST` | `/api/users/pwd` | ì•„ì´ë””, ì´ë¦„, ì „í™”ë²ˆí˜¸ë¡œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. |

### 2. Plan API (`/api/plans`)

| ê¸°ëŠ¥ | HTTP Method | URI | ì„¤ëª… |
| :--- | :---: | :--- | :--- |
| **ì¼ì • ì¡°íšŒ(ê²€ìƒ‰)** | `GET` | `/api/plans/search` | íŠ¹ì • ë‚ ì§œ ë° ê²€ìƒ‰ì–´(ì˜µì…˜)ë¡œ ì¼ì •ì„ ì¡°íšŒí•©ë‹ˆë‹¤. |
| **ì¼ì • ë“±ë¡** | `POST` | `/api/plans/{userNo}` | í•´ë‹¹ ì‚¬ìš©ìì˜ ìƒˆ ì¼ì •ì„ ë“±ë¡í•©ë‹ˆë‹¤. |
| **ì¼ì • ìˆ˜ì •** | `PATCH` | `/api/plans/{planNo}` | ì¼ì •ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. |
| **ì¼ì • ì‚­ì œ** | `DELETE` | `/api/plans/{planNo}` | ì¼ì •ì„ ì‚­ì œí•©ë‹ˆë‹¤. |

### 3. Category API (`/api/categories`)

| ê¸°ëŠ¥ | HTTP Method | URI | ì„¤ëª… |
| :--- | :---: | :--- | :--- |
| **ëª©ë¡ ì¡°íšŒ** | `GET` | `/api/categories` | ì „ì²´ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤. |
| **ì¹´í…Œê³ ë¦¬ ì¶”ê°€** | `POST` | `/api/categories` | ìƒˆë¡œìš´ ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. (ì´ë¦„ ì¤‘ë³µ ì‹œ 409 Conflict ë°˜í™˜) |

---

## ğŸ’» ì‹¤í–‰ ë°©ë²• (How to Run)

### 1. H2 Database ì„¤ì •
`src/main/resources/application.yaml` íŒŒì¼ì˜ DB ê²½ë¡œë¥¼ ë³¸ì¸ì˜ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```yaml
spring:
  datasource:
    hikari:
      # ì•„ë˜ ê²½ë¡œëŠ” ì˜ˆì‹œì´ë©°, ì‹¤ì œ H2 DB íŒŒì¼ ê²½ë¡œë¡œ ë³€ê²½ í•„ìš”
      jdbc-url: jdbc:h2:tcp://localhost/~/calendar 
      username: calendar
      password: 1234
```
* H2 Console ì ‘ì†: http://localhost:8888/h2-console 

### 2. Backend (Spring Boot) ì‹¤í–‰
1. í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ í„°ë¯¸ë„ì„ ì—½ë‹ˆë‹¤.
2. (Windows) `./gradlew bootRun` ë˜ëŠ” IDE(IntelliJ ë“±)ì—ì„œ `CalendarApplication.java` ì‹¤í–‰.
3. ì„œë²„ í¬íŠ¸: **8888**

### 3. Frontend (React) ì‹¤í–‰
1. `src` í´ë”ê°€ ìˆëŠ” í”„ë¡ íŠ¸ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.
2. ì˜ì¡´ì„± ì„¤ì¹˜:
    ```
    npm install
    ```
3. ê°œë°œ ì„œë²„ ì‹¤í–‰:
    ```
   npm run dev
   ```
4. ë¸Œë¼ìš°ì € ì ‘ì†: `http://localhost:5173` (Vite ê¸°ë³¸ í¬íŠ¸)

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡° (Folder Structure)
```aiexclude
src
â”œâ”€â”€ main/java/com/kh/Calendar
â”‚   â”œâ”€â”€ controller      # API ìš”ì²­ ì²˜ë¦¬ (UserController, PlanController ë“±)
â”‚   â”œâ”€â”€ service         # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (UserService, PlanService ë“±)
â”‚   â”œâ”€â”€ repository      # DB ì ‘ê·¼ (JPA EntityManager êµ¬í˜„ì²´)
â”‚   â”œâ”€â”€ entity          # DB í…Œì´ë¸” ë§¤í•‘ ê°ì²´
â”‚   â”œâ”€â”€ dto             # ë°ì´í„° ì „ì†¡ ê°ì²´ (Request/Response)
â”‚   â””â”€â”€ mapper          # MyBatis XML ë§¤í¼ (UserMapper, PlanMapper)
â”‚
â””â”€â”€ src (React Frontend)
    â”œâ”€â”€ components      # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ (Calendar, PlanList ë“±)
    â”œâ”€â”€ pages           # í˜ì´ì§€ ë‹¨ìœ„ ì»´í¬ë„ŒíŠ¸ (MainPage, DetailPage ë“±)
    â”œâ”€â”€ customHooks     # ë¡œì§ ë¶„ë¦¬ (UserContext, usePlanManager)
    â””â”€â”€ route           # ë¼ìš°íŒ… ì„¤ì •
```

---

## âš ï¸ ê°œë°œ í™˜ê²½ ì„¤ì • (Proxy)
í”„ë¡ íŠ¸ì—”ë“œ(`localhost:5173`)ì—ì„œ ë°±ì—”ë“œ(`localhost:8888`)ë¡œ 
API ìš”ì²­ì„ ë³´ë‚´ê¸° ìœ„í•´ `vite.config.js` ë˜ëŠ” `package.json`ì— Proxy ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.
```javascript
// vite.config.js ì˜ˆì‹œ
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:8888',
        changeOrigin: true,
      }
    }
  }
})
```
