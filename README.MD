# ğŸ“… React + Spring Boot ìº˜ë¦°ë” (Personal Calendar Service)

React(Frontend)ì™€ Spring Boot(Backend)ë¥¼ ì—°ë™í•˜ì—¬ êµ¬í˜„í•œ **ê°œì¸ ì¼ì • ê´€ë¦¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**ì…ë‹ˆë‹¤.  
ì‚¬ìš©ìë³„ ì¼ì • ê´€ë¦¬, ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜, ì›”ë³„ ìº˜ë¦°ë” ë·° ê¸°ëŠ¥ì„ RESTful API ê¸°ë°˜ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.
Spring Securityì™€ JWTë¥¼ ì ìš©í•˜ì—¬ ì•ˆì „í•œ ì¸ì¦/ì¸ê°€ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Backend
* **Framework**: Spring Boot 3.x
* **Language**: Java 17
* **Database**: H2 Database (TCP ëª¨ë“œ)
* **ORM / SQL Mapper**: Spring Data JPA (EntityManager ì§ì ‘ ì‚¬ìš©), MyBatis (ë ˆê±°ì‹œ ì½”ë“œ ì¼ë¶€ í¬í•¨)
* **Security**: Spring Security, JWT (JSON Web Token)
* **Build Tool**: Gradle
* **Library**: Lombok, Validation

### Frontend
* **Library**: React, Vite
* **Styling**: Styled-components
* **Router**: React Router DOM
* **Calendar**: FullCalendar Library
* **HTTP Client**: Axios

---

## ğŸ“ ì£¼ìš” ë„ë©”ì¸ ë° DB ì„¤ê³„ (Domain)

ì´ í”„ë¡œì íŠ¸ëŠ” í¬ê²Œ 3ê°€ì§€ í•µì‹¬ ì—”í‹°í‹°ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### 1. User (ì‚¬ìš©ì)
* ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” íšŒì› ì •ë³´ì…ë‹ˆë‹¤.
* **ì£¼ìš” í•„ë“œ**: `userNo`(PK), `userId`, `userPwd`(ì•”í˜¸í™”), `userName`, `userPhone`, `userEmail`
* **ê´€ê³„**: `User` (1) : (N) `Plan`

### 2. Plan (ì¼ì •)
* ìº˜ë¦°ë”ì— ë“±ë¡ë˜ëŠ” ê°œë³„ ì¼ì • ì •ë³´ì…ë‹ˆë‹¤.
* **ì£¼ìš” í•„ë“œ**: `planNo`(PK), `planTitle`, `planContent`, `date`
* **ê´€ê³„**:
    * `Plan` (N) : (1) `User` (ì¼ì • ì†Œìœ ì)
    * `Plan` (N) : (1) `Category` (ì¼ì • ë¶„ë¥˜)

### 3. Category (ì¹´í…Œê³ ë¦¬)
* ì¼ì •ì„ ë¶„ë¥˜í•˜ëŠ” ì¹´í…Œê³ ë¦¬ ì •ë³´ì…ë‹ˆë‹¤. (ì˜ˆ: ì—…ë¬´, ê°œì¸, ê¸°ë…ì¼ ë“±)
* **ì£¼ìš” í•„ë“œ**: `categoryNo`(PK), `categoryName`
* **ê´€ê³„**: `Category` (1) : (N) `Plan`

---

## ğŸ“¡ API ëª…ì„¸ì„œ (API Specification)

RESTful ì„¤ê³„ ì›ì¹™ì— ë”°ë¼ ë¦¬ì†ŒìŠ¤(ëª…ì‚¬) ì¤‘ì‹¬ìœ¼ë¡œ URIë¥¼ êµ¬ì„±í•˜ê³ , HTTP Methodë¡œ í–‰ìœ„ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤.
ëª¨ë“  APIëŠ” `/api` í”„ë¦¬í”½ìŠ¤ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

### 1. User API (`/api/users`, `/api/tokens`)

| ê¸°ëŠ¥ | HTTP Method | URI | ì„¤ëª… | ì¸ì¦ í•„ìš” |
| :--- | :---: | :--- | :--- | :---: |
| **íšŒì›ê°€ì…** | `POST` | `/api/users` | ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ìƒì„±í•©ë‹ˆë‹¤. (ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ì €ì¥) | X |
| **ì•„ì´ë”” ì¤‘ë³µ ì²´í¬** | `GET` | `/api/users/availability` | ì•„ì´ë”” ì¤‘ë³µ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. (`?userId=...`) | X |
| **ë¡œê·¸ì¸ (í† í° ë°œê¸‰)** | `POST` | `/api/tokens` | ì‚¬ìš©ì ì¸ì¦ í›„ JWT í† í°ì„ ë°œê¸‰í•©ë‹ˆë‹¤. | X |
| **ì •ë³´ ìˆ˜ì •** | `PATCH` | `/api/users/{userNo}` | íšŒì› ì •ë³´ë¥¼ ë¶€ë¶„ ìˆ˜ì •í•©ë‹ˆë‹¤. | O |
| **íšŒì› íƒˆí‡´** | `DELETE` | `/api/users/{userNo}` | íšŒì›ì„ ì‚­ì œí•©ë‹ˆë‹¤. | O |
| **ì•„ì´ë”” ì°¾ê¸°** | `POST` | `/api/users/id-recovery` | ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ë¡œ ì•„ì´ë””ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. | X |
| **ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •** | `POST` | `/api/users/password-reset` | ë³¸ì¸ í™•ì¸ í›„ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¬ì„¤ì •í•©ë‹ˆë‹¤. | X |

### 2. Plan API (`/api/plans`)

| ê¸°ëŠ¥ | HTTP Method | URI | ì„¤ëª… | ì¸ì¦ í•„ìš” |
| :--- | :---: | :--- | :--- | :---: |
| **ì¼ì • ì¡°íšŒ(ê²€ìƒ‰)** | `GET` | `/api/plans` | íŠ¹ì • ë‚ ì§œ ë° ê²€ìƒ‰ì–´(ì˜µì…˜)ë¡œ ì¼ì •ì„ ì¡°íšŒí•©ë‹ˆë‹¤. | O |
| **ì¼ì • ë“±ë¡** | `POST` | `/api/plans/{userNo}` | í•´ë‹¹ ì‚¬ìš©ìì˜ ìƒˆ ì¼ì •ì„ ë“±ë¡í•©ë‹ˆë‹¤. | O |
| **ì¼ì • ìˆ˜ì •** | `PATCH` | `/api/plans/{planNo}` | ì¼ì •ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. | O |
| **ì¼ì • ì‚­ì œ** | `DELETE` | `/api/plans/{planNo}` | ì¼ì •ì„ ì‚­ì œí•©ë‹ˆë‹¤. | O |

### 3. Category API (`/api/categories`)

| ê¸°ëŠ¥ | HTTP Method | URI | ì„¤ëª… | ì¸ì¦ í•„ìš” |
| :--- | :---: | :--- | :--- | :---: |
| **ëª©ë¡ ì¡°íšŒ** | `GET` | `/api/categories` | ì „ì²´ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤. | O |
| **ì¹´í…Œê³ ë¦¬ ì¶”ê°€** | `POST` | `/api/categories` | ìƒˆë¡œìš´ ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. | O |

---

## ğŸ” ë³´ì•ˆ (Security)

* **ì¸ì¦ ë°©ì‹**: JWT (JSON Web Token) ê¸°ë°˜ ì¸ì¦
* **ë¹„ë°€ë²ˆí˜¸**: BCrypt í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ì•”í˜¸í™” ì €ì¥
* **ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •**: ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ëŒ€ì‹ , ë³¸ì¸ ì¸ì¦ í›„ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë®ì–´ì“°ëŠ”(Reset) ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ ë³´ì•ˆ ê°•í™”
* **ìœ íš¨ì„± ê²€ì‚¬**: `@Valid` ë° Bean Validationì„ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ ë°ì´í„° ê²€ì¦

---

## ğŸ’» ì‹¤í–‰ ë°©ë²• (How to Run)

### 1. H2 Database ì„¤ì •
`src/main/resources/application.yaml` íŒŒì¼ì˜ DB ê²½ë¡œë¥¼ ë³¸ì¸ì˜ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```yaml
spring:
  datasource:
    hikari:
      # ì•„ë˜ ê²½ë¡œëŠ” ì˜ˆì‹œì´ë©°, ì‹¤ì œ H2 DB íŒŒì¼ ê²½ë¡œë¡œ ë³€ê²½ í•„ìš”
      jdbc-url: jdbc:h2:tcp://localhost/~/calendar 
      username: calendar
      password: 1234
jwt:
  secret: (64ë°”ì´íŠ¸ ì´ìƒì˜ ê¸´ ë¹„ë°€í‚¤)
  expiration: 86400000
```
* H2 Console ì ‘ì†: http://localhost:8888/h2-console 

### 2. Backend (Spring Boot) ì‹¤í–‰
1. í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ í„°ë¯¸ë„ì„ ì—½ë‹ˆë‹¤.
2. (Windows) `./gradlew bootRun` ë˜ëŠ” IDE(IntelliJ ë“±)ì—ì„œ `CalendarApplication.java` ì‹¤í–‰.
3. ì„œë²„ í¬íŠ¸: **8888**

### 3. Frontend (React) ì‹¤í–‰
1. `src` í´ë”ê°€ ìˆëŠ” í”„ë¡ íŠ¸ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.
2. ì˜ì¡´ì„± ì„¤ì¹˜:
    ```
    npm install
    ```
3. ê°œë°œ ì„œë²„ ì‹¤í–‰:
    ```
   npm run dev
   ```
4. ë¸Œë¼ìš°ì € ì ‘ì†: `http://localhost:5173` (Vite ê¸°ë³¸ í¬íŠ¸)

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡° (Folder Structure)
```aiexclude
src
â”œâ”€â”€ main/java/com/kh/Calendar
â”‚   â”œâ”€â”€ config          # SecurityConfig ë“± ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ controller      # API ìš”ì²­ ì²˜ë¦¬ (UserController, PlanController ë“±)
â”‚   â”œâ”€â”€ service         # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (UserService, PlanService ë“±)
â”‚   â”œâ”€â”€ repository      # DB ì ‘ê·¼ (JPA EntityManager êµ¬í˜„ì²´)
â”‚   â”œâ”€â”€ entity          # DB í…Œì´ë¸” ë§¤í•‘ ê°ì²´
â”‚   â”œâ”€â”€ dto             # ë°ì´í„° ì „ì†¡ ê°ì²´ (Request/Response)
â”‚   â”œâ”€â”€ security        # JWT Provider, Filter ë“± ë³´ì•ˆ ê´€ë ¨ í´ë˜ìŠ¤
â”‚   â””â”€â”€ exception       # ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ (GlobalExceptionHandler)
â”‚
â””â”€â”€ src (React Frontend)
    â”œâ”€â”€ components      # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ (Calendar, PlanList ë“±)
    â”œâ”€â”€ pages           # í˜ì´ì§€ ë‹¨ìœ„ ì»´í¬ë„ŒíŠ¸ (MainPage, DetailPage ë“±)
    â”œâ”€â”€ customHooks     # ë¡œì§ ë¶„ë¦¬ (UserContext, usePlanManager)
    â””â”€â”€ route           # ë¼ìš°íŒ… ì„¤ì •
```
